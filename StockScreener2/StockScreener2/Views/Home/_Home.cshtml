<!-- ko with: home -->
<div data-bind="visible: app.view().constructor.name == 'HomeViewModel'">
    <div class="row">
        <div class="col-md-6">
            <div class="row" style="height: 60px; margin-top: 5px;">
                <div class="alert alert-danger col-md-12" role="alert" data-bind="fadeVisible: showError">
                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                    <span class="sr-only">Error:</span>
                    <span data-bind="text: error"></span>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <form data-bind="submit: addStock">
                        <div class="input-group col-md-6 no-side-margin">
                            <span class="input-group-addon" id="basic-addon1">Add Stock</span>
                            <input type="text" class="form-control" placeholder="Enter symbol"
                                   data-bind='value: stockSymbol, valueUpdate: "afterkeydown"' aria-describedby="basic-addon1">
                        </div>
                        <div class="btn-group col-md-12" role="group" aria-label="Basic example">
                            <button type="button" data-bind="click: checkLowSpreadPercentage, css: { active: lowSpreadPercentageChecked() === true }" class="btn btn-primary">Ricoschett</button>
                        </div>
                    </form>
                </div>
            </div>
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Symbol</th>
                        <th>Change</th>
                        <th>Last</th>
                        <th>Ask</th>
                        <th>Bid</th>
                        <th>High</th>
                        <th>Low</th>
                        <th>Open</th>
                        <th>Last update</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody data-bind="foreach: stocks">
                    <tr data-bind="css: { highLight: highlight() === true }">
                        <td><span data-bind="click: $parent.getChart, text: symbol"> </span></td>
                        <td><span data-bind="click: $parent.getChart, text: change"> </span></td>
                        <td><span data-bind="click: $parent.getChart, text: last"> </span></td>
                        <td><span data-bind="click: $parent.getChart, text: ask"> </span></td>
                        <td><span data-bind="click: $parent.getChart, text: bid"> </span></td>
                        <td><span data-bind="click: $parent.getChart, text: daysHigh"> </span></td>
                        <td><span data-bind="click: $parent.getChart, text: daysLow"> </span></td>
                        <td><span data-bind="click: $parent.getChart, text: open"> </span></td>
                        <td><span data-bind="click: $parent.getChart, text: lastUpdate"> </span></td>
                        <td><a data-bind="click: $parent.deleteStock"><span class="glyphicon glyphicon-trash"></span></a></td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="col-md-6">
            <div data-bind="fadeVisible: loadingChart">
                <p>Loading chart</p>
            </div>
            <div data-bind="fadeVisible: showChart">
                <h2 data-bind="text: stockName"></h2>
                <span class="close-button glyphicon glyphicon-remove" data-bind="click: hideChart" title="Close chart"></span>
                <div id="chart">
                    <canvas id="stock-chart-canvas"
                            data-bind="chart: { type: 'line', data: SimpleLineData, options: { observeChanges: true, throttle: 3000 }}"></canvas>
                </div>
                @* Add class to selected button *@
                <div class="btn-group" role="group">
                    <button type="button" class="btn" data-bind="click: getChart.bind(self.stockId, 7)">1W</button>
                    <button type="button" class="btn" data-bind="click: getChart.bind(self.stockId, 30)">1M</button>
                    <button type="button" class="btn" data-bind="click: getChart.bind(self.stockId, 90)">3M</button>
                    <button type="button" class="btn" data-bind="click: getChart.bind(self.stockId, 365)">1Y</button>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- /ko -->
