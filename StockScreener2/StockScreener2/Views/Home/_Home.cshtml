<!-- ko with: home -->
<div data-bind="visible: app.view().constructor.name == 'HomeViewModel'">
    <div class="row">
            <div class="row" style="margin-top: 10px;">
                <div class="col-md-12">
                    <form data-bind="submit: addStock">
                        <div class="row">
                            <div class="input-group col-md-6 no-side-margin">
                                <span class="input-group-addon" id="basic-addon1">Add Stock</span>
                                <input type="text" class="form-control" placeholder="Enter symbol"
                                       data-bind='value: stockSymbol, valueUpdate: "afterkeydown"' aria-describedby="basic-addon1">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <button type="button" data-bind="click: checkLowSpreadPercentage, css: { active: lowSpreadPercentageChecked() === true }" class="btn btn-primary">Ricoschett</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        <div class="col-md-6" role="main">
            <div class="col-md-12">
                <button type="button" data-bind="click: refreshStocks" class="btn btn-xs pull-right"><span class="glyphicon glyphicon-refresh" aria-hidden="true"></span></button>
            </div>
            <table id="mainStockList" class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Symbol</th>
                        <th>Change</th>
                        <th>Last</th>
                        <th>Ask</th>
                        <th>Bid</th>
                        <th>High</th>
                        <th>Low</th>
                        <th>Open</th>
                        <th>Updated</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody data-bind="foreach: stocks">
                    <tr data-bind="css: { highLight: highlight() === true }">
                        <td><span data-bind="click: $parent.getChart, text: symbol"> </span></td>
                        <td><span data-bind="click: $parent.getChart, text: change"> </span></td>
                        <td><span data-bind="click: $parent.getChart, text: last"> </span></td>
                        <td><span data-bind="click: $parent.getChart, text: ask"> </span></td>
                        <td><span data-bind="click: $parent.getChart, text: bid"> </span></td>
                        <td><span data-bind="click: $parent.getChart, text: daysHigh"> </span></td>
                        <td><span data-bind="click: $parent.getChart, text: daysLow"> </span></td>
                        <td><span data-bind="click: $parent.getChart, text: open"> </span></td>
                        <td><span data-bind="click: $parent.getChart, text: lastUpdate"> </span></td>
                        <td><a data-bind="click: $parent.deleteStock"><span class="glyphicon glyphicon-trash"></span></a></td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="col-md-6 chart-to-the-right" data-spy="affix">
            <div data-bind="fadeVisible: loadingChart">
                <p>Loading chart</p>
            </div>
            <div class="alert alert-danger col-md-12" role="alert" data-bind="fadeVisible: showError">
                <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                <span class="sr-only">Error:</span>
                <span data-bind="text: error"></span>
            </div>
            <div data-bind="fadeVisible: showChart">
                <span class="close-button glyphicon glyphicon-remove" data-bind="click: hideChart" title="Close chart"></span>
                <div id="highstockChart">
                </div>
            </div>
        </div>
    </div>
</div>
<!-- /ko -->
